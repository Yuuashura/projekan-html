<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Komik - Tema Gelap</title>
    <link rel="stylesheet" href="../css/header-footer.css">
    <style>
        :root {
            --dark-navy: #0a192f;
            --navy: #112240;
            --light-navy: #233554;
            --lightest-navy: #303C55;
            --slate: #8892b0;
            --light-slate: #a8b2d1;
            --lightest-slate: #ccd6f6;
            --white: #e6f1ff;
            --accent: #64ffda;
        }

        

        .main-container {
            display: flex;
            max-width: 1200px;
            margin: auto;
            background: var(--navy);
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            border-radius: 8px;
            overflow: hidden;
        }

        .left-column {
            flex: 1;
            padding: 25px;
            border-right: 1px solid var(--lightest-navy);
        }

        .right-column {
            flex: 2;
            padding: 25px;
        }

        .thumbnail {
            width: 100%;
            max-width: 300px;
            border-radius: 8px;
            margin-bottom: 25px;
            border: 2px solid var(--lightest-navy);
        }
        
        .info-details-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .info-item {
            display: flex;
            flex-direction: column;
            padding: 10px;
            background-color: var(--light-navy);
            border-radius: 5px;
        }

        .info-item .label {
            font-weight: bold;
            color: var(--accent);
            font-size: 0.8em;
            margin-bottom: 4px;
        }

        .info-item .value {
            font-size: 1em;
            color: var(--lightest-slate);
        }

        h1, h2 {
            color: var(--white);
            border-bottom: 1px solid var(--lightest-navy);
            padding-bottom: 10px;
        }

        h1 {
            font-size: 2.2em;
        }

        .genres {
            margin-bottom: 20px;
        }

        .genre-tag {
            display: inline-block;
            background-color: var(--accent);
            color: var(--dark-navy);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            font-weight: bold;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        .synopsis {
            line-height: 1.7;
            text-align: justify;
            margin-bottom: 20px;
            color: var(--light-slate);
        }
        
        #chapter-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--lightest-navy);
            border-radius: 5px;
            padding: 5px;
        }
        
        #chapter-list::-webkit-scrollbar { width: 8px; }
        #chapter-list::-webkit-scrollbar-track { background: var(--navy); }
        #chapter-list::-webkit-scrollbar-thumb { background: var(--slate); border-radius: 4px; }
        #chapter-list::-webkit-scrollbar-thumb:hover { background: var(--light-slate); }

        .chapter-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 10px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }
        
        .chapter-item:not(:last-child) { border-bottom: 1px solid var(--light-navy); }
        .chapter-item:hover { background-color: var(--light-navy); }

        .chapter-item a {
            color: var(--accent);
            text-decoration: none;
            font-weight: bold;
        }
        
        .chapter-item a:hover { text-decoration: underline; }

        .chapter-date {
            font-size: 0.9em;
            color: var(--slate);
        }

        /* Comment Section Styling */
        .comment-container {
            max-width: 1200px;
            margin: 25px auto;
            padding: 25px;
            background: var(--navy);
            box-shadow: 0 10px 30px -15px rgba(2,12,27,0.7);
            border-radius: 8px;
        }
        
        .comment-form textarea {
            width: 100%;
            min-height: 80px;
            padding: 10px;
            margin-bottom: 10px;
            background-color: var(--light-navy);
            border: 1px solid var(--lightest-navy);
            border-radius: 4px;
            color: var(--lightest-slate);
            font-size: 1em;
            resize: vertical;
        }

        .comment-form textarea:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .comment-form button {
            padding: 10px 20px;
            background-color: var(--accent);
            color: var(--dark-navy);
            border: none;
            border-radius: 4px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .comment-form button:hover {
            opacity: 0.8;
        }

        #comment-list {
            margin-top: 30px;
        }

        .comment-item {
            padding: 15px 0;
        }
        
        .comment-item:not(:last-child) {
            border-bottom: 1px solid var(--lightest-navy);
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .comment-author {
            font-weight: bold;
            color: var(--white);
        }
        
        .comment-date {
            font-size: 0.8em;
            color: var(--slate);
        }

        .comment-text {
            margin: 0;
            line-height: 1.6;
            color: var(--light-slate);
        }

    </style>
</head>
<body>
    <header>
      <a href="../"
        ><i
          ><h1 class="judul">Mona<span>Komik</span></h1></i></a
      >

      <!-- Desktop Navigation -->
      <div class="nav">
        <a href="../" class="home"><p>Home</p></a>
        <a href="manga-list.html"><p>Pustaka</p></a>
        <a href="login.html"><p>Masuk</p></a>
        <a href="register.html"><p>Daftar</p></a>
        <a href="tentang.html"><p>Tentang</p></a>
      </div>

      <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <!-- Search Bar -->

      <div class="cari">

        <a onclick="cariKomik()" class="theme" id="theme" ><img src="../icon/light-mode.png" alt="Search"/></a>

        <span class="material-symbols-outlined light_mode"></span>

        <input type="text" placeholder="search" id="searchInput" />

        <a onclick="cariKomik()"><img src="../assets/search.png" alt="Search"/></a>
      </div>
    </header>



    

    <div class="main-container">
        <div class="left-column">
            <img id="thumbnail" class="thumbnail" src="" alt="Thumbnail Komik">
            <h2>Informasi Detail</h2>
            <div id="info-details" class="info-details-container">
                </div>
        </div>

        <div class="right-column">
            <h1 id="title"></h1>
            <h3 id="alternative-title" style="color: var(--light-slate); margin-top: -10px; font-weight: normal;"></h3>
            
            <div id="genres" class="genres">
                </div>

            <h2>Sinopsis</h2>
            <p id="synopsis" class="synopsis"></p>

            <h2>Daftar Chapter</h2>
            <div id="chapter-list">
                </div>
        </div>
    </div>

    <div class="comment-container">
        <h2>Komentar</h2>
        <form class="comment-form">
            <textarea placeholder="Tulis komentar Anda di sini..."></textarea>
            <button type="submit">Kirim</button>
        </form>

        <div id="comment-list">
            <div class="comment-item">
                <div class="comment-header">
                    <span class="comment-author">Budi Komentar</span>
                    <span class="comment-date">21 Juli 2025</span>
                </div>
                <p class="comment-text">Wah, komiknya seru banget! Nggak sabar nunggu chapter selanjutnya. Art-nya juga makin bagus.</p>
            </div>
            <div class="comment-item">
                <div class="comment-header">
                    <span class="comment-author">Ani Pembaca</span>
                    <span class="comment-date">20 Juli 2025</span>
                </div>
                <p class="comment-text">MC-nya OP banget, tapi ceritanya tetep menarik buat diikutin. Recommended!</p>
            </div>
             <div class="comment-item">
                <div class="comment-header">
                    <span class="comment-author">Rudi Setiawan</span>
                    <span class="comment-date">19 Juli 2025</span>
                </div>
                <p class="comment-text">Ada yang tau komik lain yang mirip-mirip kaya gini?</p>
            </div>
        </div>
    </div>



      <footer>
      <div class="medsos">
        <a href="https://instagram.com/yudis.ashura" target="_blank"
          ><span><img src="/icon/instagram.png" alt="" /></span
        ></a>
      </div>
      <div class="medsos">
        <a href="https://github.com/yuuashura" target="_blank"
          ><span><img src="/icon/github.png" alt="" /></span
        ></a>
      </div>
      <div class="medsos">
        <a href="https://facebook.com/4sa.cyber" target="_blank"
          ><span><img src="/icon/facebook.png" alt="" /></span
        ></a>
      </div>
      <div class="medsos">
        <a href="https://telegram.com/#" target="_blank"
          ><span><img src="/icon/telegram.png" alt="" /></span
        ></a>
      </div>

      <div class="text-footer">
        <p>
          All the comics on this website are only previews of the original
          comics,there may be many language errors, character names, and story
          lines. For the original version, please buy the comic if it's
          available in your city.
        </p>
        <br />
        <hr />
        <p>&copy; MoonKomik</p>
      </div>
    </footer>

    <script>
        const params = window.location.search.substring(1);
        const baseApi = "https://yuuashura-api.vercel.app"
        const komikData = {};


        async function getData() {
            try{
                const response = await fetch(`${baseApi}${params}`);
                const data = await response.json();
                komikData.thumbnail = data.thumbnail;
                komikData.info = data.info;
                komikData.alternativeTitle = data.alternativeTitle;
                komikData.sinopsis = data.sinopsis;
                komikData.genres = data.genres;
                komikData.chapters = data.chapters;
                komikData.title = data.title;
                populateData();
            }catch(error){
                console.log("error response", error);
                
            }
            
        }

        function populateData() {
            // Kolom Kiri
            document.getElementById('thumbnail').src = komikData.thumbnail;
            document.getElementById('thumbnail').alt = komikData.title;
            
            const infoContainer = document.getElementById('info-details');
            for (const key in komikData.info) {
                const infoItem = document.createElement('div');
                infoItem.className = 'info-item';
                const label = document.createElement('span');
                label.className = 'label';
                label.textContent = key;
                const value = document.createElement('span');
                value.className = 'value';
                value.textContent = komikData.info[key];
                infoItem.appendChild(label);
                infoItem.appendChild(value);
                infoContainer.appendChild(infoItem);
            }

            // Kolom Kanan
            document.getElementById('title').textContent = komikData.title;
            document.getElementById('alternative-title').textContent = komikData.alternativeTitle;
            document.getElementById('synopsis').textContent = komikData.sinopsis;

            const genresContainer = document.getElementById('genres');
            komikData.genres.forEach(genre => {
                const span = document.createElement('span');
                span.className = 'genre-tag';
                span.textContent = genre;
                genresContainer.appendChild(span);
            });

            const chapterList = document.getElementById('chapter-list');
            komikData.chapters.forEach(chapter => {
                const chapterDiv = document.createElement('div');
                chapterDiv.className = 'chapter-item';
                const chapterLink = document.createElement('a');
                chapterLink.href = chapter.originalLink;
                chapterLink.textContent = chapter.title;
                chapterLink.target = '_blank';
                const chapterDate = document.createElement('span');
                chapterDate.className = 'chapter-date';
                chapterDate.textContent = chapter.date;
                chapterDiv.appendChild(chapterLink);
                chapterDiv.appendChild(chapterDate);
                chapterList.appendChild(chapterDiv);
            });
        }

        getData();
    </script>

</body>
</html>